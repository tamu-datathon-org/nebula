(this.webpackJsonpnebula=this.webpackJsonpnebula||[]).push([[0],{117:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=117},133:function(e,t){e.exports={serverCredentials:{endpoint:"https://nebula.tamudatathon.com:8882"}}},194:function(e,t,a){},280:function(e,t,a){e.exports=a(518)},302:function(e,t,a){},355:function(e,t,a){},359:function(e,t){},361:function(e,t){},362:function(e,t){},363:function(e,t){},364:function(e,t){},395:function(e,t,a){},398:function(e,t,a){},507:function(e,t,a){e.exports=a.p+"static/media/camera.2dff6c4e.svg"},508:function(e,t,a){},516:function(e,t,a){},518:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),i=a.n(c),o=(a(194),a(27)),s=a(28),l=a(29),u=a(30),p=a(31),m=a(9),h=a.n(m),f=a(33),d=a(21),b=a(530),v=a(525),O=a(66),g=a(58),E=a(91),k=a.n(E),w=a(133),y=w.serverCredentials.endpoint,j=function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post(y+"/admins",{adminKey:t},{withCredentials:!0});case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",Object(g.a)({authorized:!0},a.data));case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{authorized:!1});case 11:return e.abrupt("return",{authorized:!1});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),I=a(67),S=(a(302),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={loggedIn:!1},a.handleLogin=a.handleLogin.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleLogin",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.loginInputObj.state.value.toLowerCase(),e.next=3,j(t);case 3:(a=e.sent).authorized?(b.a.success("Hey ".concat(a.firstName,", welcome to Nebula."),2),this.setState({loggedIn:!0})):b.a.error("The credentials you provided are incorrect.",2);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"redirectOnLogin",value:function(){if(this.state.loggedIn)return r.a.createElement(I.a,{to:"attendance"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},this.redirectOnLogin(),r.a.createElement("h1",{id:"mainLogo",className:"text-center"},"Nebula"),r.a.createElement("div",{className:"row justify-content-around"},r.a.createElement("div",{className:"",id:"loginForm"},r.a.createElement(v.a,{size:"large",placeholder:"Enter your key",id:"loginInput",ref:function(t){return e.loginInputObj=t}}),r.a.createElement(O.a,{id:"loginBtn",onClick:this.handleLogin},"Login"))))}}]),t}(r.a.Component)),x=a(10),C=a(258),N=a.n(C),_=(a(355),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={powerOff:!1},a.powerOff=a.powerOff.bind(Object(d.a)(a)),a.reauthenticate=a.reauthenticate.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"powerOff",value:function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.success("Logging out!",2),N.a.remove("td_token"),this.setState({powerOff:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"redirectIfPowerOff",value:function(){if(this.state.powerOff)return r.a.createElement(I.a,{to:"/"})}},{key:"reauthenticate",value:function(){b.a.error("Your access token expired. Please log in again.",1.5),this.setState({powerOff:!0})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},this.redirectIfPowerOff(),r.a.createElement("span",{id:"brand-div"},r.a.createElement("p",{className:"brand text-center"},"Nebula")),r.a.createElement("span",{className:"navbar-poweroff"},r.a.createElement(x.a,{type:"export",className:"navbar-icon",onClick:this.powerOff,style:{fontSize:"20px"}})))}}]),t}(r.a.Component)),T=a(532),z=a(533),L=a(528),W=a(529),P=a(110),R=a(527);a(395);P.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(P.pdfjs.version,"/pdf.worker.js");r.a.Component,a(398);var D={"Not Coming (RSVP'ed No)":"#F79F1F",Rejected:"#ED4C67","Accepted (Didn't RSVP)":"#2db7f5","RSVP'ed":"#009432"},A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).render=function(){var e,t=a.state.applicant;return r.a.createElement("div",{className:"row justify-content-center my-5"},r.a.createElement(L.a,null,r.a.createElement(L.a.Content,null,r.a.createElement(L.a.Header,null,"".concat(t.firstName," ").concat(t.lastName)),r.a.createElement(L.a.Meta,{className:"my-2"},(e=t.applicationStatus,r.a.createElement(T.a,{color:D[e]},e))," ",function(e){return"Learner"===e?r.a.createElement(T.a,{color:"#f0932b"},"Learner"):r.a.createElement(T.a,{color:"#4834d4"},"Competitor")}(t.track)),r.a.createElement("hr",null),r.a.createElement(L.a.Description,{className:"mt-4"},r.a.createElement("p",{className:"participant-info-li my-3"},t.university),r.a.createElement("p",{className:"participant-info-li my-3"},t.major),r.a.createElement("p",{className:"participant-info-li my-3"},r.a.createElement("b",null,"Dietary Restriction:")," ",function(e){return""===e||void 0===e?r.a.createElement(z.a,{status:"error",text:"No Data",className:"ml-3"}):e}()))),r.a.createElement(L.a.Content,{extra:!0},r.a.createElement("div",{className:"ui"},r.a.createElement(W.a,{basic:t.signInStatus[a.state.signInType],color:"green",className:"w-100",loading:a.state.loading,onClick:function(){return a.changeSignInStatus(t.email,!0,a.state.signInType)}},t.signInStatus[a.state.signInType]?"Checked in!":"Check In")))))},a.state={applicant:e.applicant,signInType:e.signInType,loading:!1},a.changeSignInStatus=a.changeSignInStatus.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({applicant:e.applicant,signInType:e.signInType,loading:!1})}},{key:"changeSignInStatus",value:function(e,t,a){t!=this.state.applicant.signInStatus[a]&&(this.props.changeSignInStatus(e,t,a),this.setState({loading:!0}))}}]),t}(r.a.Component),F=(a(507),a(508),window.qrcode),G=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var a=new FileReader;a.onload=function(t){F.callback=function(t){t instanceof Error?(b.a.error("Couldn't read the QR Code."),e(void 0)):e(t)},F.decode(a.result)},a.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"processImage",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<=0)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(t[0]);case 4:void 0!==(a=e.sent)&&this.props.processEmailInput(a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row justify-content-center mt-4"},r.a.createElement("div",{className:"col-lg-5 col-md-4 col-sm-12 text-center"},r.a.createElement("label",{className:"qr-code-input"},r.a.createElement("input",{type:"file",accept:"image/*",capture:"environment",onChange:function(t){return e.processImage(t.target.files)}}),r.a.createElement(x.a,{type:"qrcode",className:"qr-code-scan-btn",style:{fontSize:"80px"}}))),r.a.createElement("h3",{className:"col-lg-1 col-md-1 col-sm-12 my-4 text-center"},"Or"),r.a.createElement("div",{className:"col-lg-5 col-md-6 col-sm-12 text-center"},r.a.createElement(v.a,{size:"large",placeholder:"Enter the participant's email",id:"email-input",ref:function(t){return e.emailInput=t}}),r.a.createElement(O.a,{id:"email-input-btn",className:"mx-3 my-4",onClick:function(){return e.props.processEmailInput(e.emailInput.state.value)}},"Get Info")))}}]),t}(r.a.Component),U=a(95),M=a(526),q=w.serverCredentials.endpoint,V=function(e){return 404===e.response.status?{authorized:!0,applicant:void 0}:500===e.response.status?(b.a.error("Something went wrong, can't really say what it is."),{authorized:!1}):{authorized:!1,applicant:null}},H=function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get(q+"/applicants?email="+encodeURIComponent(t),{withCredentials:!0});case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",Object(g.a)({authorized:!0},a.data));case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",V(e.t0));case 11:return e.abrupt("return",{authorized:!1});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(f.a)(h.a.mark((function e(t,a,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.patch(q+"/applicants/signin",{applicantEmail:t,signInStatus:a,signInType:n},{withCredentials:!0});case 3:if(200!==(r=e.sent).status){e.next=6;break}return e.abrupt("return",Object(g.a)({authorized:!0},r.data));case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",V(e.t0));case 11:return e.abrupt("return",{authorized:!1});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Y=function(e){return r.a.createElement("div",{className:"row justify-content-center my-4"},r.a.createElement(M.a,{defaultValue:"check_in_19",size:"large",style:{width:300},onChange:e.changeSignInType},r.a.createElement(M.a.OptGroup,{label:"Event Check In/Out"},r.a.createElement(M.a.Option,{value:"check_in_19"},"Check In (October 19th)")),r.a.createElement(M.a.OptGroup,{label:"Meals"},r.a.createElement(M.a.Option,{value:"lunch_19"},"Lunch (October 19th)"),r.a.createElement(M.a.Option,{value:"dinner_19"},"Dinner (October 19th)"),r.a.createElement(M.a.Option,{value:"breakfast_20"},"Breakfast (October 20th)"),r.a.createElement(M.a.Option,{value:"lunch_20"},"Lunch (October 20th)")),r.a.createElement(M.a.OptGroup,{label:"Learner Lessons"},r.a.createElement(M.a.Option,{value:"lesson_1"},"Learner Track Lesson 1"),r.a.createElement(M.a.Option,{value:"lesson_2"},"Learner Track Lesson 2"),r.a.createElement(M.a.Option,{value:"lesson_3"},"Learner Track Lesson 3")),r.a.createElement(M.a.OptGroup,{label:"Company Workshops"},r.a.createElement(M.a.Option,{value:"stats_workshop"},"Statistics Department Workshop"),r.a.createElement(M.a.Option,{value:"cbre_workshop"},"CBRE Workshop"),r.a.createElement(M.a.Option,{value:"usaa_workshop"},"USAA Workshop"),r.a.createElement(M.a.Option,{value:"math_workshop_1"},"Math Department Workshop"),r.a.createElement(M.a.Option,{value:"facebook_side_event"},"Facebook Oculus Side Event"),r.a.createElement(M.a.Option,{value:"conocophillips_workshop"},"ConocoPhillips Workshop"),r.a.createElement(M.a.Option,{value:"tti_workshop"},"TTI Workshop"),r.a.createElement(M.a.Option,{value:"walmart_workshop"},"Walmart Workshop"),r.a.createElement(M.a.Option,{value:"mlh_cup_stacking"},"MLH Cup Stacking"),r.a.createElement(M.a.Option,{value:"shell_workshop"},"Shell Workshop"),r.a.createElement(M.a.Option,{value:"facebook_workshop"},"Facebook Workshop"),r.a.createElement(M.a.Option,{value:"goldmansachs_workshop"},"Goldman Sachs Workshop"),r.a.createElement(M.a.Option,{value:"zumba_workshop"},"Zumba Workshop")),r.a.createElement(M.a.OptGroup,{label:"Company Tables"},r.a.createElement(M.a.Option,{value:"cbre_table"},"CBRE Table"),r.a.createElement(M.a.Option,{value:"usaa_table"},"USAA Table"),r.a.createElement(M.a.Option,{value:"facebook_table"},"Facebook Table"),r.a.createElement(M.a.Option,{value:"conocophillips_table"},"ConocoPhillips Table"),r.a.createElement(M.a.Option,{value:"tti_table"},"TTI Table"),r.a.createElement(M.a.Option,{value:"walmart_table"},"Walmart Technology Table"),r.a.createElement(M.a.Option,{value:"shell_table"},"Shell Table"),r.a.createElement(M.a.Option,{value:"goldmansachs_table"},"Goldman Sachs Table"))))},K=(a(516),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).changeSignInStatus=function(){var e=Object(f.a)(h.a.mark((function e(t,n,r){var c,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,n,r);case 2:if(c=e.sent,i=c.authorized,o=c.applicant,i){e.next=9;break}return e.abrupt("return",a.setState(Object(g.a)({},a.state,{authorized:!1,applicant:void 0})));case 9:if(void 0!==o){e.next=13;break}return e.abrupt("return",b.a.warn("No participant exists with the email: ".concat(t)));case 13:b.a.success("".concat(a.state.applicant.firstName," was successfully ").concat(n?"signed in":"signed out","!"));case 14:return e.abrupt("return",a.setState(Object(g.a)({},a.state,{applicant:o})));case 15:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),a.state={authorized:!0,applicant:void 0,signInType:"check_in_19"},a.processEmailInput=a.processEmailInput.bind(Object(d.a)(a)),a.authorizedCheck=a.authorizedCheck.bind(Object(d.a)(a)),a.getParticipantInfo=a.getParticipantInfo.bind(Object(d.a)(a)),a.changeSignInStatus=a.changeSignInStatus.bind(Object(d.a)(a)),a.getApplicant=a.getApplicant.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"processEmailInput",value:function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&null!==t&&""!==t){e.next=2;break}return e.abrupt("return");case 2:this.setState({applicant:null}),this.getApplicant(t.toLowerCase());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getApplicant",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:return a=e.sent,n=a.authorized,void 0===(r=a.applicant)&&b.a.warn("No participant exists with the email: ".concat(t)),e.abrupt("return",this.setState({applicant:r,authorized:n}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"authorizedCheck",value:function(){if(!this.state.authorized)return b.a.error("Your access token expired. Please log-in to Nebula again!"),r.a.createElement(I.a,{to:"/"})}},{key:"getParticipantInfo",value:function(){return void 0===this.state.applicant?r.a.createElement(U.a,null):null===this.state.applicant?r.a.createElement("div",{className:"row justify-content-center my-5"},r.a.createElement(x.a,{type:"loading",style:{fontSize:"40px",color:"#666666"}})):r.a.createElement(A,{applicant:this.state.applicant,signInType:this.state.signInType,changeSignInStatus:this.changeSignInStatus})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},this.authorizedCheck(),r.a.createElement(_,null),r.a.createElement("div",{className:"main-div"},r.a.createElement(B,{processEmailInput:this.processEmailInput}),r.a.createElement(Y,{changeSignInType:function(t){return e.setState(Object(g.a)({},e.state,{signInType:t}))}}),this.getParticipantInfo()))}}]),t}(r.a.Component)),Q=a(103),Z=(a(517),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,null,r.a.createElement(I.b,{exact:!0,path:"/",component:S}),r.a.createElement(I.b,{exact:!0,path:"/attendance",component:K}))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[280,1,2]]]);
//# sourceMappingURL=main.2a973b72.chunk.js.map